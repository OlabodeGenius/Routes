<div class="items-list" [@listAnimation]="items.length">
  <div class="header">
    <h1>
      <mat-icon>inventory</mat-icon>
      Items
    </h1>
    <div class="search-container">
      <mat-form-field appearance="outline">
        <mat-label>Search items</mat-label>
        <input matInput [(ngModel)]="searchQuery" (keyup.enter)="onSearch()" placeholder="Search...">
        <mat-icon matPrefix>search</mat-icon>
      </mat-form-field>
      <button mat-raised-button color="primary" (click)="onSearch()">
        <mat-icon>search</mat-icon>
        Search
      </button>
    </div>
  </div>

  <div *ngIf="loading && items.length === 0" class="loading">
    <mat-spinner diameter="50"></mat-spinner>
    <p>Loading items...</p>
  </div>

  <div *ngIf="!loading && items.length === 0 && searchQuery" class="no-items">
    <mat-icon>inbox</mat-icon>
    <p>No items found for "{{ searchQuery }}". Try a different search term.</p>
    <button mat-raised-button color="primary" (click)="searchQuery = ''; onSearch()" style="margin-top: 16px;">
      <mat-icon>clear</mat-icon>
      Clear Search
    </button>
  </div>

  <div class="items-grid" *ngIf="items.length > 0">
    <app-item-card *ngFor="let item of items" [item]="item"></app-item-card>
  </div>

  <div *ngIf="items.length > 0 && !loading" class="load-more">
    <button mat-raised-button (click)="loadMore()">
      <mat-icon>expand_more</mat-icon>
      Load More
    </button>
  </div>
</div>
